/*
 * Null JS v1.0.0 (https://null-js.com)
 * Copyright (c) 2023 Null JS
 * Licensed under MIT (https://opensource.org/licenses/MIT)
*/
function null_initialize_form_fields(e,s){for(let r in s){let l=e.querySelector("#"+r);if(!l){console.error(`Input not found for field: ${r}`);continue}s[r].placeholder&&l.setAttribute("placeholder",s[r].placeholder),s[r].type&&l.setAttribute("type",s[r].type)}}function null_password_validation(e,s,r,l){return(void 0===r&&(r={}),s.letters&&!/[a-zA-Z]/.test(e))?(l.classList.add("null-form-error"),r.letters||"Password must contain at least one letter."):s.numbers&&!/[0-9]/.test(e)?(l.classList.add("null-form-error"),r.numbers||"Password must contain at least one number."):s.symbols&&!/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/.test(e)?(l.classList.add("null-form-error"),r.symbols||"Password must contain at least one symbol."):s.capital&&!/[A-Z]/.test(e)?(l.classList.add("null-form-error"),r.capital||"Password must contain at least one capital letter."):""}function null_process_field_value(e,s){return s.removeSpaces&&(e=e.toLowerCase().replace(/\s+/g," ").trim()),s.capitalizeFirstWord&&(e=e.toLowerCase().charAt(0).toUpperCase()+e.slice(1)),s.capitalizeEachWord&&(e=e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())),e}function null_form_validate(e,s,r){void 0===r&&(r={});let l=document.querySelector(e);if(null==l)return;let t=l.parentElement;null_initialize_form_fields(t,s),l.addEventListener("click",function(e){e.preventDefault();let l=!1,n={};for(let a in s){let i=t.querySelector("#"+a),o=t.querySelector(`[data-null-for="${a}"]`);if(!o){console.error(`Error container not found for field: ${a}`);continue}o.innerHTML="",o.classList.remove("null-form-error"),o.classList.remove("null-form-success");let u=i.value.trim(),c=s[a];if(u=null_process_field_value(u,c),n[a]=u,s[a].debugMode&&console.log(`Input ID: ${a}, Value: ${u}`),c.required&&""===u)l=!0,o.innerHTML=r.required||"Field is required",o.classList.add("null-form-error");else if(c.type){if(c.min&&u.length<c.min)l=!0,o.innerHTML=r.min||`Minimum length is ${c.min} characters.`,o.classList.add("null-form-error");else if(c.max&&u.length>c.max)l=!0,o.innerHTML=r.max||`Maximum length is ${c.max} characters.`,o.classList.add("null-form-error");else if("text"!==c.type||/^[a-zA-Z\s]*$/.test(u)){if("text"===c.type&&c.showSuccess)o.innerHTML=u,o.classList.add("null-form-success");else if("password"===c.type){let d=null_password_validation(u,c.passwordOptions,c.customPasswordErrorMessages,o);d&&(l=!0,o.innerHTML=d)}else"number"!==c.type||/^\d+$/.test(u)?"number"===c.type&&c.showSuccess?(o.innerHTML=u,o.classList.add("null-form-success")):"email"!==c.type||/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(u)?"email"===c.type&&c.showSuccess&&(o.innerHTML=u,o.classList.add("null-form-success")):(l=!0,o.innerHTML=r.email||"Invalid email address",o.classList.add("null-form-error")):(l=!0,o.innerHTML=r.number||"Invalid input. Only numbers allowed",o.classList.add("null-form-error"))}else l=!0,o.innerHTML=r.text||"Invalid input. Only letters and spaces allowed.",o.classList.add("null-form-error")}!l&&c.showSuccess&&(o.innerHTML=u,o.classList.add("null-form-success"))}l||t.submit()})}